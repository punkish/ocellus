L.Control.Sidebar=L.Control.extend({includes:L.Evented.prototype||L.Mixin.Events,options:{position:"left"},initialize:function(t,s){L.setOptions(this,s),this._sidebar=L.DomUtil.get(t),L.DomUtil.addClass(this._sidebar,"sidebar-"+this.options.position),L.Browser.touch&&L.DomUtil.addClass(this._sidebar,"leaflet-touch");for(let t=this._sidebar.children.length-1;0<=t;t--){var i=this._sidebar.children[t];"DIV"==i.tagName&&L.DomUtil.hasClass(i,"sidebar-content")&&(this._container=i)}this._tabitems=this._sidebar.querySelectorAll("ul.sidebar-tabs > li, .sidebar-tabs > ul > li");for(let t=this._tabitems.length-1;0<=t;t--)this._tabitems[t]._sidebar=this;this._panes=[],this._closeButtons=[];for(let t=this._container.children.length-1;0<=t;t--){var e=this._container.children[t];if("DIV"==e.tagName&&L.DomUtil.hasClass(e,"sidebar-pane")){this._panes.push(e);var l=e.querySelectorAll(".sidebar-close");for(let t=0,s=l.length;t<s;t++)this._closeButtons.push(l[t])}}},addTo:function(t){this._map=t;for(let t=this._tabitems.length-1;0<=t;t--){var s=this._tabitems[t],i=s.querySelector("a");i.hasAttribute("href")&&"#"==i.getAttribute("href").slice(0,1)&&L.DomEvent.on(i,"click",L.DomEvent.preventDefault).on(i,"click",this._onClick,s)}for(let t=this._closeButtons.length-1;0<=t;t--){var e=this._closeButtons[t];L.DomEvent.on(e,"click",this._onCloseClick,this)}return this},remove:function(){this._map=null;for(let t=this._tabitems.length-1;0<=t;t--){var s=this._tabitems[t];L.DomEvent.off(s.querySelector("a"),"click",this._onClick)}for(let t=this._closeButtons.length-1;0<=t;t--){var i=this._closeButtons[t];L.DomEvent.off(i,"click",this._onCloseClick,this)}return this},open:function(s){for(let t=this._panes.length-1;0<=t;t--){var i=this._panes[t];i.id==s?L.DomUtil.addClass(i,"active"):L.DomUtil.hasClass(i,"active")&&L.DomUtil.removeClass(i,"active")}for(let t=this._tabitems.length-1;0<=t;t--){var e=this._tabitems[t];e.querySelector("a").hash=="#"+s?L.DomUtil.addClass(e,"active"):L.DomUtil.hasClass(e,"active")&&L.DomUtil.removeClass(e,"active")}return this.fire("content",{id:s}),L.DomUtil.hasClass(this._sidebar,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._sidebar,"collapsed")),this},close:function(){for(let t=this._tabitems.length-1;0<=t;t--){var s=this._tabitems[t];L.DomUtil.hasClass(s,"active")&&L.DomUtil.removeClass(s,"active")}return L.DomUtil.hasClass(this._sidebar,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._sidebar,"collapsed")),this},_onClick:function(){L.DomUtil.hasClass(this,"active")?this._sidebar.close():L.DomUtil.hasClass(this,"disabled")||this._sidebar.open(this.querySelector("a").hash.slice(1))},_onCloseClick:function(){this.close()}}),L.control.sidebar=function(t,s){return new L.Control.Sidebar(t,s)};